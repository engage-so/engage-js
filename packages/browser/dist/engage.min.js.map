{"version":3,"file":"engage.min.js","sources":["../node_modules/cross-fetch/dist/browser-ponyfill.js","../../../node_modules/base64-js/index.js","../../../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../node_modules/@engage_so/core/error.js","../node_modules/@engage_so/core/index.js","../index.js"],"sourcesContent":["var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","class EngageError extends Error {\n  constructor (message, cause) {\n    super(message)\n    this.cause = cause\n    this.name = 'EngageError'\n  }\n}\nmodule.exports = EngageError\n","const fetch = require('cross-fetch')\nconst Buffer = require('buffer/').Buffer\nconst EngageError = require('./error')\nconst root = 'https://api.engage.so/v1'\nif (typeof btoa === 'undefined') {\n  global.btoa = function (str) {\n    return Buffer.from(str).toString('base64')\n  }\n}\n\nconst options = {\n  key: null,\n  secret: ''\n}\n\nasync function _request (url, params, method) {\n  try {\n    const o = {\n      method,\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n        Authorization: `Basic ${btoa(`${options.key}:${options.secret}`)}`\n      },\n    }\n    if (params) {\n      o.body = JSON.stringify(params)\n    }\n    const response = await fetch(url, o)\n    const body = await response.json()\n    let error = 'API connection error'\n    if (!response.ok) {\n      if (body && body.error) {\n        error = body.error\n      }\n      return { error }\n    }\n    return body\n  } catch (e) {\n    // console.log(e)\n    return { error: 'API connection error' }\n  }\n}\n\n// Alias of _request method\n// Same with _request for now but can later have modifications\nconst request = (url, params, method) => {\n  return _request(`${root}${url}`, params, method)\n}\n\nconst init = (o) => {\n  if (!o) {\n    throw new EngageError('You need to pass in your API key.')\n  }\n  if (typeof o === 'string') {\n    options.key = o\n    return\n  }\n\n  if (!o.key) {\n    throw new EngageError('`key` missing in object.')\n  }\n  if (o.key) {\n    options.key = `${o.key}`\n  }\n  if (o.secret) {\n    options.secret = `${o.secret}`\n  }\n}\n\nconst identify = async (o) => {\n  if (!o) {\n    throw new EngageError('You need to pass an object with at least an id.')\n  }\n  if (!o.id) {\n    throw new EngageError('ID missing.')\n  }\n  if (o.email && !/^\\S+@\\S+$/.test(o.email)) {\n    throw new EngageError('Email invalid.')\n  }\n  const allowed = ['id', 'is_account', 'email', 'number', 'created_at', 'device_token', 'device_platform', 'first_name', 'last_name', 'tz']\n  const params = {\n    meta: {}\n  }\n  for (const k in o) {\n    if (allowed.includes(k)) {\n      params[k] = o[k]\n    } else {\n      params.meta[k] = o[k]\n    }\n  }\n\n  return _request(`${root}/users/${o.id}`, params, 'PUT')\n}\n\nconst addAttribute = async (uid, data) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  if (!data) {\n    throw new EngageError('Attributes missing.')\n  }\n  if (!Object.keys(data).length) {\n    throw new EngageError('Attributes missing.')\n  }\n  const notMeta = ['created_at', 'is_account', 'number', 'device_token', 'device_platform', 'email', 'first_name', 'last_name', 'tz', 'app_version', 'app_build', 'app_last_active']\n  const params = { meta: {} }\n  for (const k in data) {\n    if (notMeta.includes(k)) {\n      params[k] = data[k]\n    } else {\n      params.meta[k] = data[k]\n    }\n  }\n\n  return _request(`${root}/users/${uid}`, params, 'PUT')\n}\n\nconst track = async (uid, data) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  if (!data) {\n    throw new EngageError('Attributes missing.')\n  }\n  if (typeof data === 'string') {\n    data = {\n      event: data,\n      value: true\n    }\n  } else {\n    if (!Object.keys(data).length) {\n      throw new EngageError('Attributes missing.')\n    }\n  }\n\n  return _request(`${root}/users/${uid}/events`, data, 'POST')\n}\n\nconst merge = async (source, destination) => {\n  if (!source) {\n    throw new EngageError('Source ID missing.')\n  }\n  if (!destination) {\n    throw new EngageError('Destination ID missing.')\n  }\n\n  return _request(`${root}/users/merge`, { source, destination }, 'POST')\n}\n\nconst addToAccount = async (uid, gid, role) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  if (!gid) {\n    throw new EngageError('Account id missing.')\n  }\n  if (role && typeof role !== 'string') {\n    throw new EngageError('Role should be a text.')\n  }\n  const g = {\n    id: gid\n  }\n  if (role) {\n    g.role = role\n  }\n  return _request(`${root}/users/${uid}/accounts`, { accounts: [g] }, 'POST')\n}\nconst removeFromAccount = async (uid, gid) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  if (!gid) {\n    throw new EngageError('Account id missing.')\n  }\n  return _request(`${root}/users/${uid}/accounts/${gid}`, null, 'DELETE')\n}\n\nconst changeAccountRole = async (uid, gid, role) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  if (!gid) {\n    throw new EngageError('Account id missing.')\n  }\n  if (!role) {\n    throw new EngageError('New role missing.')\n  }\n  return _request(`${root}/users/${uid}/accounts/${gid}`, { role }, 'PUT')\n}\n\nconst convertToCustomer = async (uid) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  return _request(`${root}/users/${uid}/convert`, { type: 'customer' }, 'POST')\n}\nconst convertToAccount = async (uid) => {\n  if (!uid) {\n    throw new EngageError('User id missing.')\n  }\n  return _request(`${root}/users/${uid}/convert`, { type: 'account' }, 'POST')\n}\n\nmodule.exports = {\n  init,\n  identify,\n  addAttribute,\n  track,\n  merge,\n  request,\n  addToAccount,\n  removeFromAccount,\n  changeAccountRole,\n  convertToCustomer,\n  convertToAccount\n}\n","const Engage = require('@engage_so/core')\n\nfunction uuidv4 () {\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n  )\n}\n\nlet key\nlet uid\nlet channel\nlet framePort\nlet h\nconst widgetIframe = document.createElement('iframe')\nconst containerDiv = document.createElement('div')\nlet docTitle = document.title\nlet badge = 0\n\nfunction resize () {\n  const w = window.innerWidth < 360 ? '100%' : '360px'\n  h = window.innerHeight < 550 ? (window.innerHeight - 20) + 'px' : '550px'\n  widgetIframe.style.cssText = 'width:' + w + ';height:' + h\n\n  framePort.postMessage({ ppties: {\n    h\n  }, type: 'set' })\n}\n\nfunction loadScript (url, callback) {\n  const script = document.createElement('script')\n  script.type = 'text/javascript'\n  script.src = url\n\n  script.onreadystatechange = callback\n  script.onload = callback\n\n  document.getElementsByTagName('head').item(0).appendChild(script)\n}\n\nfunction loadMessageFrame (onLoad) {\n  if (document.getElementById('engage_wp_frame')) {\n    return\n  }\n  channel = new MessageChannel()\n  framePort = channel.port1\n  framePort.onmessage = onMessage\n\n  const styles = `\n.engage-widget-container iframe {\ndisplay: none;\n}\n.engage-widget-container.no-chat > div {\ndisplay: none;\n}\n.engage-widget-container.opened iframe {\ndisplay: block;\n}\n.engage-widget-container.opened .chat-btn {\ndisplay: none;\n}\n.engage-widget-container .chat-btn {\nposition: fixed;\nbottom: 20px;\nright: 20px;\nborder: 0;\ncursor: pointer;\nwidth: 60px;\nheight: 60px;\nborder-radius: 100%;\nbackground-color: #0d74ed\n}\n.engage-widget-container .welcome {\nanimation: show 600ms 100ms cubic-bezier(0.38, 0.97, 0.56, 0.76) forwards;\nopacity: 0;\nposition: fixed;\nbottom: 90px;\nfont: 14px/1.5 Helvetica,Arial,sans-serif;;\ncolor: #222;\nborder-radius: 8px;\nright: 20px;\nbox-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\ncursor: pointer;\nmax-width: 300px;\npadding: 1.2rem;\nbackground-color: #fff\n}\n.engage-widget-container .welcome a svg {\ncolor:#444\n}\n.engage-widget-container .welcome a:hover svg {\ncolor:#111\n}\n@keyframes show {\n  100% {\n    opacity: 1;\n    transform: none;\n  }\n}\n.engage-widget-container .badge {\nposition: absolute;\ntop: 0;\nmin-width: 24px;\nright: 0;\nbackground-color: rgba(236, 56, 65, 0.9);\npadding: 5px;\ncolor: #fff;\nborder-radius: 50%;\n}\n.engage-widget-container .badge.dn {\ndisplay: none\n}\n.engage-widget-container .chat-btn svg {\nwidth: 28px;\nheight: 28px;\ndisplay: inline;\n}\n.engage-widget-container .chat-btn:hover {\nbackground-color: #0d74ede6;\n}\n.engage-banner p {\nmargin: 0;\npadding: 0;\ndisplay: inline;\n}\n.engage-banner a {\ncolor: inherit;\ntext-decoration: underline;\n}\n.engage-banner a:hover {\nopacity: 0.7\n}\n.engage-banner a:hover svg {\nstroke: #fff\n}\n.engage-ww.component-text p {\nmargin: 0;\npadding: 6px 0\n}\n.engage-widget-webia iframe {\nborder: 0;\nwidth: 100%;\n}\n.engage-widget-webia a {\ncolor: #aaa\n}\n.engage-widget-webia a:hover {\ncolor: #444\n}\n.engage-widget-webia {\npadding: 1em 0;\nbackground-color:#fff;\nposition: fixed;\nwidth: 360px;\noverflow-y: scroll;\nmax-height: 550px;\nbottom: 10px;\nright: 10px;\nz-index: 10000;\nborder-radius: 5px;\nbox-shadow: 0px 0px 10px 0px rgba(0,0,0,0.3);\n}\n.engage-widget-container iframe {\nborder: 0;\nbackground-color:#fff;\nposition: fixed;\nwidth: 360px;\nheight: 550px;\nbottom: 10px;\nright: 10px;\nz-index: 10000;\nborder-radius: 5px;\nbox-shadow: 0px 0px 10px 0px rgba(0,0,0,0.3);\ntransition: width .5s, height .5s;\n}\n`;\n  const styleSheet = document.createElement(\"style\")\n  styleSheet.type = 'text/css'\n  document.getElementsByTagName(\"head\")[0].appendChild(styleSheet)\n  if (styleSheet.styleSheet) {\n    // IE\n    styleSheet.styleSheet.cssText = styles\n  } else {\n    // Other browsers\n    styleSheet.innerHTML = styles\n  }\n\n  containerDiv.className = 'engage-widget-container no-chat'\n  widgetIframe.src = 'https://d2969mkc0xw38n.cloudfront.net/widget_v2/widget.html'\n  widgetIframe.id = 'engage_wp_frame'\n  const w = window.innerWidth < 360 ? '100%' : '360px'\n  h = window.innerHeight < 550 ? (window.innerHeight - 20) + 'px' : '550px'\n  widgetIframe.style.cssText = 'width:' + w + ';height:' + h\n  containerDiv.appendChild(widgetIframe)\n  const iconDiv = document.createElement('div')\n  const button = document.createElement('button')\n  button.className = 'chat-btn'\n  button.innerHTML = '<span class=\"badge dn\"></span><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"192\" height=\"192\" fill=\"#ffffff\" viewBox=\"0 0 256 256\"><rect width=\"256\" height=\"256\" fill=\"none\"></rect><path d=\"M216,48H40A16,16,0,0,0,24,64V222.8a15.7,15.7,0,0,0,9.3,14.5,16,16,0,0,0,17-2.2L82,208.4l134-.4a16,16,0,0,0,16-16V64A16,16,0,0,0,216,48ZM160,152H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Z\"></path></svg>'\n  button.addEventListener('click', () => {\n    toggleWidget()\n  })\n  iconDiv.appendChild(button)\n  containerDiv.appendChild(iconDiv)\n  document.body.appendChild(containerDiv)\n  widgetIframe.addEventListener('load', onLoad)\n}\n\nfunction updateButtonBadge() {\n  const el = containerDiv.querySelector('.badge')\n  if (!el) {\n    return\n  }\n  el.innerHTML = badge;\n  if (badge === 0 && !el.classList.contains('dn')) {\n    el.classList.add('dn')\n    return\n  }\n  if (badge && el.classList.contains('dn')) {\n    el.classList.remove('dn')\n    return\n  }\n}\n\n// Run pending queues\nconst queue = window.engage && window.engage.queue ? window.engage.queue.slice(0) : []\nfor (const q of queue) {\n  if (q[0] === 'identify' && q[1] && q[1].id) {\n    uid = q[1].id\n  // } else if (!uid && q[0] === 'track' && q[1]) {\n  //   uid = q[1]\n  } else if (!key && q[0] === 'init' && q[1]) {\n    key = q[1]\n  }\n  Engage[q[0]].apply(Engage, q.splice(1))\n}\n\nconst sound = new Audio('https://d2969mkc0xw38n.cloudfront.net/cdn/misc/pop.mp3')\nlet account\nlet wasDisconnected = false\nlet socket\nconst cid = uuidv4()\n\nfunction onMessage (e) {\n  const data = e.data\n  if (data.action === 'close') {\n    // Hide frame\n    containerDiv.classList.toggle('opened')\n  }\n  if (data.action === 'maximize') {\n    const w = window.innerWidth < 520 ? '100%' : '520px'\n    h = window.innerHeight < 650 ? (window.innerHeight - 20) + 'px' : '650px'\n    widgetIframe.style.cssText = 'width:' + w + ';height:' + h\n\n    framePort.postMessage({ ppties: {\n      h\n    }, type: 'set' })\n  }\n  if (data.action === 'minimize') {\n    resize()\n  }\n  if (data.action === 'set_user') {\n    user.name = data.user.name\n    user.email = data.user.email\n    window.localStorage.setItem('engage_user', JSON.stringify({\n      uid,\n      name: data.user.name,\n      email: data.user.email\n    }))\n  }\n  if (data.action === 'send_chat') {\n    const params = {\n      body: data.body,\n      uid: user.uid,\n      cid\n    };\n    if (user.name) {\n      params.name = user.name\n    }\n    if (user.email) {\n      params.email = user.email.trim().toLowerCase()\n    }\n    Engage.request('/messages/chat', params, 'POST')\n      .then(body => {\n        // Set uid\n        if (!body.uid) {\n          return\n        }\n        uidSet = true\n        if (body.uid === user.uid) {\n          return\n        }\n        // If user sent anon id but exist on server w/ diff id\n        const uid = body.uid\n        // Join new room\n        socket.emit('room', account.id+':'+uid)\n        user.uid = uid;\n        framePort.postMessage({ user, type: 'set' })\n        window.localStorage.setItem('engage_user', JSON.stringify(user))\n      });\n  }\n  if (data.action === 'ack') {\n    // Mark message as read\n    Engage.request('/messages/chat/ack', { id: data.id }, 'POST')\n      .then(() => {})\n  }\n}\n\nfunction toggleWidget () {\n  // Once window is visible, reset badge and title\n  if (!containerDiv.classList.contains('opened')) {\n    document.title = docTitle\n    badge = 0\n    updateButtonBadge()\n    // Clear welcome\n    const wd = document.querySelector('.engage-widget-container .welcome')\n    if (wd) {\n      wd.remove()\n    }\n  }\n  containerDiv.classList.toggle('opened')\n}\n\nfunction joinRoom () {\n  if (socket && account && account.id) {\n    // console.log('Status', socket.connected)\n    socket.emit('room', account.id)\n    socket.emit('room', account.id+':'+uid)\n  }\n}\n\nfunction createWebPushFrame (body, o) {\n  body = `<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"><link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin><link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap\" rel=\"stylesheet\"><style>* {box-sizing:border-box;padding:0;margin:0;}body{font-family:'Inter',sans-serif;padding:0 1em}h1,h2,h3,p{margin:0;padding:6px 0;color:inherit;}</style>\n${body}\n<img src=\"https://us-central1-suet-170506.cloudfunctions.net/ppx?s=o&d=${o.domain_id}&m=${o.msg_id}\">`\n  const div = document.createElement('div')\n  div.className = 'engage-widget-webia'\n  h = window.innerHeight < 550 ? (window.innerHeight - 50) + 'px' : '550px'\n  div.style.cssText = 'max-height:' + h\n  // Close\n  const closeDiv = document.createElement('div')\n  closeDiv.style.cssText = 'padding:0 1em 0.5em 0;text-align:right'\n  const close = document.createElement('a')\n  close.setAttribute('href', '#')\n  close.innerHTML = `<svg width=\"24\" height=\"24\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg></a>`\n  close.addEventListener('click', (e) => {\n    e.preventDefault();\n    document.querySelector('.engage-widget-webia').remove()\n  });\n  closeDiv.appendChild(close)\n  div.appendChild(closeDiv)\n  // iframe\n  const iframe = document.createElement('iframe')\n  div.appendChild(iframe)\n  div.appendChild(iframe)\n  document.body.appendChild(div)\n  iframe.contentWindow.document.open()\n  iframe.contentWindow.document.write(body)\n  iframe.contentWindow.document.close()\n  iframe.onload = function() {\n    iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px'\n  }\n}\n\nloadScript('https://cdn.socket.io/4.5.4/socket.io.min.js', () => {\n  socket = io('https://ws.engage.so/webpush');\n  socket.on('connect', async () => {\n    if (uid) {\n      joinRoom()\n      // Load pending messages here\n      if (wasDisconnected) {\n        // Load new messages here\n        try {\n          const chat = await Engage.request('/messages/chat/open?uid=' + uid + '&since=' + lastMsgId)\n          if (chat && chat.messages && chat.messages.length) {\n            lastMsgId = chat.messages[chat.messages.length - 1].id\n            const opened = containerDiv.classList.contains('opened')\n            // Hidden or not?\n            if (document.visibilityState === 'hidden' || !opened) {\n              try {\n                sound.play()\n              } catch (e) {}\n              if (!opened) {\n                document.title = '* New message'\n                badge += chat.messages.length\n                updateButtonBadge()\n              }\n            }\n            for (const m of chat.messages) {\n              framePort.postMessage({ data: m, type: 'new_message' })\n            }\n          }\n        } catch (e) {\n          console.warn(e)\n        }\n        wasDisconnected = false\n      }\n    }\n  });\n  socket.on('disconnect', () => {\n    wasDisconnected = true\n    // Attempt reconnecting\n    let delay = 2000\n    setTimeout(function tick() {\n      if (!wasDisconnected) {\n        return\n      }\n      socket.connect()\n      delay *= 1.5\n      setTimeout(tick, delay)\n    }, delay)\n  });\n  // Notify of online agents\n  socket.on('agents_online', (count) => {\n    setTimeout(function checkfp() {\n      if (framePort) {\n        framePort.postMessage({ agents_online: count, type: 'set' })\n      } else {\n        setTimeout(checkfp, 1000)\n      }\n    }, 0)\n  });\n  socket.on('webpush/notification', (data) => {\n    if (!data.type) {\n      return\n    }\n    const opened = containerDiv.classList.contains('opened')\n    if (data.type === 'chat') {\n      /*\n      - If closed\n        - If chat\n          - Make sound\n          - Show notification and badge\n        - If message\n          - Popup simple overlay\n      - If open\n        - Chat/Message\n          - If open, just update\n          - If not, notification in title bar or somewhere\n      */\n      if (data.upgrade_uid && !uidSet) {\n        // Temp socket data.\n        if (data.uid !== uid) {\n          uidSet = true\n          uid = data.uid\n          // Upgrade\n          // Join new room\n          socket.emit('room', account.id+':'+uid)\n          user.uid = uid\n          if (data.from && data.from.email) {\n            user.email = data.from.email\n          }\n          framePort.postMessage({ user, type: 'set' })\n          window.localStorage.setItem('engage_user', JSON.stringify(user))\n        }\n      }\n      // Sent from same client\n      if (data.cid === cid) {\n        return\n      }\n      // Only update chat if uid is still same\n      if (data.uid === uid) {\n        // Notification if message not sent from you\n        if (!data.outbound && (document.visibilityState === 'hidden' || !opened)) {\n          try {\n            sound.play()\n          } catch (e) {}\n          if (!opened) {\n            document.title = '* New message'\n            badge++\n            updateButtonBadge()\n          }\n        }\n        // Send message to iframe and set view to chat already\n        framePort.postMessage({ data, type: 'new_message' })\n        lastMsgId = data.id\n      }\n    }\n    // Web inapp notifications\n    if (data.type === 'web' && !opened) {\n      // Only show if not opened\n      createWebPushFrame(data.body, data)\n    }\n  });\n});\n\n// Customer identified?\nconst identified = !!uid\nlet uidSet = identified\nlet lastMsgId\nlet user = {}\nif (uid) {\n  user.uid = uid\n}\n// 2. Load message frame first\nloadMessageFrame(async () => {\n  try {\n    account = await Engage.request('/account')\n    // Turn on chat icon\n    if (account.features && account.features.chat) {\n      containerDiv.classList.remove('no-chat')\n      if (account.features.chat.color) {\n        // Update stylesheet\n        const style = `.engage-widget-container .chat-btn {\n          background-color: ${account.features.chat.color}\n        }\n        .engage-widget-container .chat-btn:hover {\n        background-color: ${account.features.chat.color}e6;\n        }`\n        const styleSheet = document.createElement(\"style\")\n        styleSheet.type = 'text/css'\n        document.getElementsByTagName(\"head\")[0].appendChild(styleSheet)\n        if (styleSheet.styleSheet) {\n          // IE\n          styleSheet.styleSheet.cssText = style\n        } else {\n          // Other browsers\n          styleSheet.innerHTML = style\n        }\n      }\n      if (account.features.chat.welcome) {\n        const wDiv = document.createElement('div')\n        wDiv.addEventListener('click', () => {\n          toggleWidget()\n        })\n        wDiv.innerText = account.features.chat.welcome\n\n        const closeDiv = document.createElement('div')\n        closeDiv.style.cssText = 'position:absolute;right:5px;top:5px'\n        const close = document.createElement('a')\n        close.setAttribute('href', '#')\n        close.innerHTML = `<svg width=\"18\" height=\"18\" style=\"width:18px;height:18px\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg></a>`\n        close.addEventListener('click', (e) => {\n          e.preventDefault()\n          document.querySelector('.engage-widget-container .welcome').remove()\n        })\n        closeDiv.appendChild(close)\n\n        const msgDiv = document.createElement('div')\n        msgDiv.className = 'welcome'\n        msgDiv.appendChild(closeDiv)\n        msgDiv.appendChild(wDiv)\n        containerDiv.appendChild(msgDiv)\n      }\n    }\n  } catch (e) {\n    return console.warn(e)\n  }\n\n  if (!uid) {\n    // Is there an id in local storage?\n    const u = window.localStorage.getItem('engage_user')\n    if (u) {\n      try {\n        user = JSON.parse(u)\n        if (user.uid) {\n          uid = user.uid\n        }\n      } catch (e) {}\n    }\n  }\n  if (!uid) {\n    // Generate anonymous id\n    uid = uuidv4()\n    user.uid = uid\n    // and store\n    window.localStorage.setItem('engage_user', JSON.stringify({\n      uid\n    }))\n  }\n  joinRoom()\n  // Register port with widget\n  widgetIframe.contentWindow.postMessage(':)', '*', [channel.port2])\n  // Set height\n  framePort.postMessage({ ppties: {\n    h\n  }, type: 'set' })\n  // Send uid\n  framePort.postMessage({ user, type: 'set' })\n  framePort.postMessage({ identified, type: 'set' })\n  // Send account\n  if (account) {\n    framePort.postMessage({ account, type: 'set' })\n  }\n\n  // 1. Is there any new chat message?\n  try {\n    const chat = await Engage.request('/messages/chat/open?uid=' + uid)\n    if (chat && chat.messages && chat.messages.length) {\n      framePort.postMessage({ chat, type: 'chat' })\n      lastMsgId = chat.messages[chat.messages.length - 1].id\n      // How many unread messages?\n      for (const m of chat.messages) {\n        if (!m.outbound && !m.read) {\n          badge++\n        }\n      }\n      if (badge) {\n        // Badge\n        updateButtonBadge()\n      }\n    }\n  } catch (e) {\n    console.warn(e)\n  }\n  // 2. Is there a new web push\n  try {\n    const msg = await Engage.request('/messages/push/latest?uid=' + uid)\n    if (msg && msg.body) {\n      const opened = containerDiv.classList.contains('opened')\n      if (!opened) {\n        createWebPushFrame(msg.body, msg)\n      }\n    }\n  } catch (e) {\n    console.warn(e)\n  }\n  // 3. Is there a banner\n  try {\n    const data = await Engage.request('/campaigns/banners/active?uid=' + uid + '&path=' + window.location.protocol + '//' + window.location.href)\n    const banner = document.createElement('div')\n    banner.className = 'engage-banner'\n    if (data) {\n      if (data.style === 'inline') {\n        let style = 'position:fixed;padding:1em;width:100%;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing: border-box;'\n        style += data.position === 'top' ? 'top:0' : 'bottom:0'\n        style += ';background-color:'\n        style += data.bgcolor ? data.bgcolor : '#10273c'\n        style += ';color:'\n        style += data.color ? data.color : '#fff'\n\n        banner.style.cssText = style;\n        const cs = window.getComputedStyle(document.body)\n        const bkPosition = cs.getPropertyValue('position')\n        const bkMarginTop = cs.getPropertyValue('margin-top')\n        if (bkMarginTop) {\n          document.body.style.marginTop = (+(bkPosition.replace(/[^0-9]/g, '')) + 53) + 'px'\n        }\n        document.body.style.position = 'relative'\n        if (data.dismiss) {\n          const link = document.createElement('a')\n          link.href = '#'\n          link.innerHTML = '<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" style=\"stroke:currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>'\n          link.addEventListener('click', async (e) => {\n            e.preventDefault()\n            link.closest('.engage-banner').remove()\n            document.body.style.marginTop = bkMarginTop\n            document.body.style.position = bkPosition\n            // Track dismiss\n            await Engage.request('/campaigns/banners/' + data.id + '/track?uid=' + uid)\n          });\n          const fr = document.createElement('div')\n          fr.style.cssText = 'float:right'\n          fr.appendChild(link)\n          banner.appendChild(fr)\n        }\n        const el = document.createElement('span')\n        el.innerHTML = data.body\n        banner.appendChild(el)\n      } else if (data.style === 'float') {\n        let style = 'z-index:99999;position:fixed;border-radius:.5rem;padding:1em;max-width:50%;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;';\n        if (data.position === 'tr') {\n          style += 'top: 10px; right: 10px'\n        } else if (data.position === 'tl') {\n          style += 'top: 10px; left: 10px'\n        } else if (data.position === 'bl') {\n          style += 'bottom: 10px; left: 10px'\n        } else if (data.position === 'br') {\n          style += 'bottom: 10px; right: 10px'\n        }\n        style += ';background-color:'\n        style += data.bgcolor ? data.bgcolor : '#10273c'\n        style += ';color:'\n        style += data.color ? data.color : '#fff'\n\n        banner.style.cssText = style\n        banner.innerHTML = data.body\n        if (data.dismiss) {\n          const link = document.createElement('a')\n          link.href = '#'\n          link.style.cssText = 'margin-left:10px'\n          link.innerHTML = '<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" style=\"stroke:currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-x\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>'\n          link.addEventListener('click', async (e) => {\n            e.preventDefault()\n            link.closest('.engage-banner').remove()\n            // track dismiss\n            await Engage.request('/campaigns/banners/' + data.id + '/track?uid=' + uid)\n          });\n          banner.appendChild(link)\n        }\n      }\n      // Todo: track display (unique)\n      document.body.insertBefore(banner, document.body.firstChild)\n    }\n  } catch (e) {\n    console.warn(e)\n  }\n\n  // todo: What about conversations?\n  // Get any data-help-id\n  const helpLinks = document.querySelectorAll('[data-help-id]')\n  for (const el of helpLinks) {\n    el.addEventListener('click', function(e) {\n      e.preventDefault()\n      const help = {\n        id: this.dataset.helpId\n      };\n      if (this.dataset.helpType) {\n        help.type = this.dataset.helpType\n      }\n      if (this.dataset.helpLocale) {\n        help.locale = this.dataset.helpLocale\n      }\n      framePort.postMessage({ help, type: 'action' })\n      if (!containerDiv.classList.contains('opened')) {\n        containerDiv.classList.add('opened')\n      }\n    });\n  }\n\n  // On resize\n  window.addEventListener('resize', () => {\n    resize()\n  });\n});\n\n// Button click\nEngage.openChat = function () {\n  toggleWidget()\n};\nEngage.openHelp = function (id, helpType, locale) {\n  const help = {\n    id\n  };\n  if (helpType) {\n    help.type = helpType\n  }\n  if (locale) {\n    help.locale = locale\n  }\n  framePort.postMessage({ help, type: 'action' })\n  if (!containerDiv.classList.contains('opened')) {\n    containerDiv.classList.add('opened')\n  }\n};\n\nmodule.exports = Engage\n"],"names":["global","self","this","__self__","F","fetch","DOMException","prototype","exports","support","Symbol","Blob","e","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","get","type","rejected","Error","arrayBuffer","then","text","readAsText","chars","length","i","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","hasOwnProperty","callback","thisArg","keys","push","values","entries","methods","Request","input","options","method","upcased","url","credentials","mode","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","message","stack","create","constructor","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","key","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","ctx","default","module","base64Js","b64","lens","getLens","validLen","placeHoldersLen","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","code","start","end","num","output","ieee754","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","Math","pow","c","rt","abs","isNaN","floor","log","LN2","base64","require$$0","require$$1","customInspectSymbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","setPrototypeOf","arg","encodingOrOffset","allocUnsafe","from","string","encoding","isEncoding","actual","write","fromString","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","b","isBuffer","checked","numberIsNaN","data","fromObject","toPrimitive","assertSize","size","array","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","apply","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","enumerable","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","max","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","super","writable","configurable","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","base64clean","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","cause","EngageError","root","btoa","secret","async","_request","params","o","Authorization","stringify","core","identify","id","email","allowed","meta","k","addAttribute","uid","notMeta","track","event","merge","source","destination","addToAccount","gid","role","g","accounts","removeFromAccount","changeAccountRole","convertToCustomer","convertToAccount","Engage","uuidv4","crypto","getRandomValues","channel","framePort","h","widgetIframe","document","createElement","containerDiv","docTitle","title","badge","resize","w","window","innerWidth","innerHeight","style","cssText","postMessage","ppties","updateButtonBadge","el","querySelector","innerHTML","classList","contains","remove","add","queue","engage","q","splice","sound","Audio","account","socket","wasDisconnected","cid","onMessage","action","toggle","user","localStorage","setItem","uidSet","emit","toggleWidget","wd","joinRoom","createWebPushFrame","domain_id","msg_id","div","className","closeDiv","close","setAttribute","preventDefault","appendChild","iframe","contentWindow","height","scrollHeight","script","getElementsByTagName","item","loadScript","io","on","chat","lastMsgId","messages","opened","visibilityState","play","warn","delay","setTimeout","tick","connect","count","checkfp","agents_online","upgrade_uid","outbound","identified","onLoad","getElementById","MessageChannel","port1","onmessage","styles","styleSheet","iconDiv","button","loadMessageFrame","features","color","welcome","wDiv","innerText","msgDiv","u","getItem","port2","protocol","href","banner","position","bgcolor","cs","getComputedStyle","bkPosition","getPropertyValue","bkMarginTop","marginTop","dismiss","link","closest","fr","insertBefore","firstChild","helpLinks","querySelectorAll","help","dataset","helpId","helpType","helpLocale","locale","openChat","openHelp"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}